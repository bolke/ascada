//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "Project.h"
#include "Exceptions.h"

#define LED_PIN 0x00
//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
pr_t pr_ds;                                                                             //project data structure
//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
unsigned long tick=0;                                                                   //storing last tick
//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
uint8_t prReadRegister(uint16_t address,uint16_t* value)
{
  return EXCEPTION_NONE;                                                                //read a register
}  
//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
uint8_t prWriteRegister(uint16_t address,uint16_t* value)
{
  return EXCEPTION_NONE;                                                                //write a register
}
//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
uint8_t prSetup()
{
  tick=millis();
  pr_ds.gpio[LED_PIN].address = 0x0D;
  prSetGpio(&(pr_ds.gpio[LED_PIN]),GPIO_OUTPUT_HIGH);
  return EXCEPTION_NONE;
}
//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
uint8_t prLoop()
{
  if(millis()-tick > 1000)
  {
    prSetGpio(&(pr_ds.gpio[LED_PIN]),GPIO_OUTPUT_FLIP);
    tick=millis();
  }
  return EXCEPTION_NONE;
}
//----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
